{"version":3,"sources":["lib/exportLocale/index.js"],"names":["localizationFolder","xlfData","ensureDir","all","map","locale","fileName","resolve","writeFile","writeXlf","sourceFolder","sourceLocale","supportedLocales","exportType","rawData","exportLocale"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;wEAMA;AAAA;;AAAA,QACEA,kBADF,SACEA,kBADF;AAAA,QAEEC,OAFF,SAEEA,OAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAIQ,kBAAGC,SAAH,CAAaF,kBAAb,CAJR;;AAAA;AAAA;AAAA,mBAKQ,kBAAQG,GAAR,CACJ,oBAAYF,OAAZ,EACGG,GADH;AAAA,qFACO,iBAAOC,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACGC,gCADH,GACc,eAAKC,OAAL,CAAaP,kBAAb,EAAoCK,MAApC,UADd;AAAA;AAAA,+BAEG,kBAAGG,SAAH,CAAaF,QAAb,EAAuBL,QAAQI,MAAR,CAAvB,CAFH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADP;;AAAA;AAAA;AAAA;AAAA,gBADI,CALR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeI,Q;;;;;AANf;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;yEAiBe;AAAA,oFAMX,EANW;AAAA,mCACbC,YADa;AAAA,QACbA,YADa,sCACE,wBAAcA,YADhB;AAAA,sCAEbV,kBAFa;AAAA,QAEbA,kBAFa,yCAEQ,wBAAcA,kBAFtB;AAAA,mCAGbW,YAHa;AAAA,QAGbA,YAHa,sCAGE,wBAAcA,YAHhB;AAAA,sCAIbC,gBAJa;AAAA,QAIbA,gBAJa,yCAIM,wBAAcA,gBAJpB;AAAA,iCAKbC,UALa;AAAA,QAKbA,UALa,oCAKA,MALA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAOS,0BAAW;AAC/BH,wCAD+B;AAE/BC,wCAF+B;AAG/BC;AAH+B,aAAX,CAPT;;AAAA;AAOPE,mBAPO;AAYPb,mBAZO,GAYG,+BAAgB;AAC9Ba,8BAD8B;AAE9BJ,wCAF8B;AAG9BC,wCAH8B;AAI9BC,gDAJ8B;AAK9BC;AAL8B,aAAhB,CAZH;AAAA;AAAA,mBAmBPJ,SAAS;AACbR,8BADa;AAEbD;AAFa,aAAT,CAnBO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAee,Y;;;;SAAAA,Y","file":"index.js","sourcesContent":["import fs from 'fs-extra';\nimport path from 'path';\nimport getRawData from '../getRawData';\nimport defaultConfig from '../../defaultConfig';\nimport generateXlfData from '../generateXlfData';\n\nasync function writeXlf({\n  localizationFolder,\n  xlfData,\n}) {\n  await fs.ensureDir(localizationFolder);\n  await Promise.all(\n    Object.keys(xlfData)\n      .map(async (locale) => {\n        const fileName = path.resolve(localizationFolder, `${locale}.xlf`);\n        await fs.writeFile(fileName, xlfData[locale]);\n      })\n  );\n}\n\n\nexport default async function exportLocale({\n  sourceFolder = defaultConfig.sourceFolder,\n  localizationFolder = defaultConfig.localizationFolder,\n  sourceLocale = defaultConfig.sourceLocale,\n  supportedLocales = defaultConfig.supportedLocales,\n  exportType = 'diff',\n} = {}) {\n  const rawData = await getRawData({\n    sourceFolder,\n    sourceLocale,\n    supportedLocales,\n  });\n  const xlfData = generateXlfData({\n    rawData,\n    sourceFolder,\n    sourceLocale,\n    supportedLocales,\n    exportType,\n  });\n  await writeXlf({\n    xlfData,\n    localizationFolder,\n  });\n}\n"]}